/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={19:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(617),t)},23:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPermitted=t.getPermissionKey=t.isPerformanceOrWebVitalsAction=t.isAppMessage=t.isAppBridgeAction=void 0;var r=n(952),o=n(904),i=n(129);function a(e){return e.replace(new RegExp("^"+o.PREFIX+o.SEPARATOR+"\\w+"+o.SEPARATOR),"")}t.isAppBridgeAction=function(e){return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"type")&&e.type.toString().startsWith(o.PREFIX)},t.isAppMessage=function(e){if("object"!=typeof e||!e.data||"object"!=typeof e.data)return!1;var t=e.data;return Object.prototype.hasOwnProperty.call(t,"type")&&void 0!==i.findMatchInEnum(r.MessageType,t.type)},t.isPerformanceOrWebVitalsAction=function(e){return e.type.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)},t.getPermissionKey=a,t.isPermitted=function(e,t,n){var r=t.group,o=t.type;if(!r||!Object.prototype.hasOwnProperty.call(e,r))return!1;var i=e[r];if(!i)return!1;var s=a(o);return!!i[s]&&!0===i[s][n]}},24:e=>{"use strict";e.exports=JSON.parse('{"name":"@shopify/app-bridge","version":"3.7.10","types":"index.d.ts","main":"index.js","unpkg":"umd/index.js","jsdelivr":"umd/index.js","files":["/actions/","/client/","/umd/","/utilities/","/util/","/validate/","/development.d.ts","/development.js","/index.d.ts","/index.js","/MessageTransport.d.ts","/MessageTransport.js","/production.d.ts","/production.js"],"private":false,"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"repository":"git@github.com:Shopify/app-bridge.git","homepage":"https://shopify.dev/docs/api/app-bridge/previous-versions/app-bridge-from-npm/app-setup","author":"Shopify Inc.","license":"MIT","scripts":{"build":"yarn build:tsc && yarn build:npm && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p","build:npm":"shx cp -r ./npm/index.js ./index.js","check":"tsc","clean":"yarn clean:tsc && yarn clean:npm && yarn clean:umd","clean:tsc":"NODE_ENV=production tsc --build --clean","clean:umd":"rm -rf ./umd","clean:npm":"rm -rf ./index.js","pack":"yarn pack","size":"size-limit"},"sideEffects":false,"size-limit":[{"limit":"10.5 KB","path":"production.js"}],"dependencies":{"@shopify/app-bridge-core":"1.1.1","base64url":"^3.0.1","web-vitals":"^3.0.1"},"devDependencies":{"@types/node":"^10.12.5","shx":"^0.3.3"}}')},29:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(142),t)},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},66:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isV1Config=t.MessageType=t.LifecycleHook=t.PermissionType=void 0;var r=n(952);Object.defineProperty(t,"MessageType",{enumerable:!0,get:function(){return r.MessageType}});var o=n(952);Object.defineProperty(t,"PermissionType",{enumerable:!0,get:function(){return o.PermissionType}}),Object.defineProperty(t,"LifecycleHook",{enumerable:!0,get:function(){return o.LifecycleHook}}),t.isV1Config=function(e){return!e.host}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,d="".concat(u," ").concat(l);i[u]=l+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),u=0;u<i.length;u++){var l=n(i[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},76:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleAppPrint=void 0;var r=n(239);function o(){var e;null===(e=r.getWindow())||void 0===e||e.print()}t.handleAppPrint=function(){var e;navigator.userAgent.indexOf("iOS")>=0?(e=function(){var e=r.getWindow();if(e&&e.document&&e.document.body){var t=e.document.createElement("input");return t.style.display="none",e.document.body.appendChild(t),t}}())&&(e.select(),o(),e.remove()):o()}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},129:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateActionFromPayload=t.isValidOptionalString=t.isValidOptionalNumber=t.forEachInEnum=t.getMergedProps=t.findMatchInEnum=t.getEventNameSpace=t.NonSnakeCaseGroup=t.actionWrapper=void 0;var o=r(n(613)),i=n(904),a=n(336);function s(e,t){return o.default(e,t)||Object.assign(e,t)}t.actionWrapper=function(e){return e},t.NonSnakeCaseGroup=[a.Group.AuthCode,a.Group.Button,a.Group.ButtonGroup,a.Group.Cart,a.Group.Error,a.Group.Features,a.Group.Fullscreen,a.Group.Link,a.Group.Loading,a.Group.Menu,a.Group.Modal,a.Group.Navigation,a.Group.Pos,a.Group.Print,a.Group.ResourcePicker,a.Group.Scanner,a.Group.SessionToken,a.Group.Share,a.Group.TitleBar,a.Group.Toast,a.Group.unstable_Picker],t.getEventNameSpace=function(e,n,r){if(n.startsWith(""+i.PREFIX+i.SEPARATOR))return n;var o=function(e){return t.NonSnakeCaseGroup.includes(e)?e.toUpperCase():(n=e,n.replace(/([A-Z])/g,(function(e,t,n){return(0===n?"":"_")+e[0].toLowerCase()}))).toUpperCase();var n}(e);if(r){var a=r.subgroups,s=r.type;a&&a.length>0&&(o+=o.length>0?i.SEPARATOR:"",a.forEach((function(e,t){o+=""+e.toUpperCase()+(t<a.length-1?i.SEPARATOR:"")}))),s!==e&&s&&(o+=""+(o.length>0?i.SEPARATOR:"")+s.toUpperCase())}return o&&(o+=""+(o.length>0?i.SEPARATOR:"")+n.toUpperCase()),""+i.PREFIX+i.SEPARATOR+o},t.findMatchInEnum=function(e,t){var n=Object.keys(e).find((function(n){return t===e[n]}));return n?e[n]:void 0},t.getMergedProps=s,t.forEachInEnum=function(e,t){Object.keys(e).forEach((function(n){t(e[n])}))},t.isValidOptionalNumber=function(e){return null==e||"number"==typeof e},t.isValidOptionalString=function(e){return null==e||"string"==typeof e},t.updateActionFromPayload=function(e,t){return e.id===t.id&&(Object.assign(e,s(e,t)),!0)}},142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeWebVitals=t.interactionToNextPaint=t.timeToFirstByte=t.firstContentfulPaint=t.cumulativeLayoutShift=t.firstInputDelay=t.largestContentfulPaint=t.Action=void 0;var r=n(796),o=n(627);Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return o.Action}});var i=n(559),a=n(558),s=n(923),c=n(345);function u(e){return s.actionWrapper({group:a.Group.WebVitals,type:o.Action.LARGEST_CONTENTFUL_PAINT,payload:e})}function l(e){return s.actionWrapper({group:a.Group.WebVitals,type:o.Action.FIRST_INPUT_DELAY,payload:e})}function d(e){return s.actionWrapper({group:a.Group.WebVitals,type:o.Action.CUMULATIVE_LAYOUT_SHIFT,payload:e})}function p(e){return s.actionWrapper({group:a.Group.WebVitals,type:o.Action.FIRST_CONTENTFUL_PAINT,payload:e})}function f(e){return s.actionWrapper({group:a.Group.WebVitals,type:o.Action.TIME_TO_FIRST_BYTE,payload:e})}function h(e){return s.actionWrapper({group:a.Group.WebVitals,type:o.Action.INTERACTION_TO_NEXT_PAINT,payload:e})}t.largestContentfulPaint=u,t.firstInputDelay=l,t.cumulativeLayoutShift=d,t.firstContentfulPaint=p,t.timeToFirstByte=f,t.interactionToNextPaint=h,t.initializeWebVitals=function(e){function t(t){return function(n){var r=n.id,o=n.name,i=n.value,a=t({id:r,metricName:o,value:i});e.dispatch(a)}}var n=window;i.isServer||i.isClient&&n.__is_web_vitals_initialized__||c.isMobile()||(n.__is_web_vitals_initialized__=!0,r.onLCP(t(u)),r.onFID(t(l)),r.onCLS(t(d)),r.onFCP(t(p)),r.onTTFB(t(f)),r.onINP(t(h)))}},199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mockAppBridge=t.serverAppBridge=void 0;var r=n(310),o=function(){},i=new Promise((function(){}));t.serverAppBridge={dispatch:function(){return{}},error:function(){return o},featuresAvailable:function(){return Promise.reject(r.fromAction("Feature detection is only available on the client side.",r.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject(r.fromAction("State is only available on the client side.",r.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return o}},t.mockAppBridge={dispatch:function(){return{}},error:function(){return o},featuresAvailable:function(){return i},getState:function(){return i},localOrigin:"",hostOrigin:"",subscribe:function(){return o}}},217:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0,(t.Action||(t.Action={})).INITIALIZE="APP::CLIENT::INITIALIZE"},239:(e,t)=>{"use strict";function n(){return r()?window.location:void 0}function r(){return"undefined"!=typeof window}Object.defineProperty(t,"__esModule",{value:!0}),t.getWindow=t.getLocation=t.redirect=t.shouldRedirect=void 0,t.shouldRedirect=function(e){return e===window},t.redirect=function(e){var t=n();t&&t.assign(e)},t.getLocation=n,t.getWindow=function(){return r()?window:void 0}},249:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,'/* Reset and base styles */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n  line-height: 1.6;\n  color: #333;\n  background-color: #f7f7f7;\n}\n\n/* App container */\n.app-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n\n/* Header styles */\nheader {\n  background-color: #4a90e2;\n  color: white;\n  text-align: center;\n  padding: 2rem 1rem;\n}\n\n.header-content {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\nheader h1 {\n  margin-bottom: 0.5rem;\n  font-size: 2.5rem;\n}\n\nheader p {\n  font-size: 1.1rem;\n  opacity: 0.9;\n}\n\n/* Main content */\nmain {\n  flex: 1;\n  padding: 2rem 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n  width: 100%;\n}\n\n/* Search section */\n.search-section {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  padding: 2rem;\n  margin-bottom: 2rem;\n}\n\n.search-container {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.search-suggestions {\n  color: #777;\n  font-size: 0.9rem;\n}\n\n.search-suggestions span {\n  color: #4a90e2;\n  cursor: pointer;\n  margin: 0 3px;\n}\n\n.search-suggestions span:hover {\n  text-decoration: underline;\n}\n\ninput[type="text"] {\n  flex: 1;\n  padding: 0.8rem 1rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n\nbutton {\n  background-color: #4a90e2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 0.8rem 1.5rem;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\nbutton:hover {\n  background-color: #3a7bd5;\n}\n\n/* Results section */\n.results-section {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  padding: 2rem;\n}\n\n.initial-message {\n  text-align: center;\n  color: #888;\n  padding: 2rem 0;\n}\n\n/* Product card styles */\n.product-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 1.5rem;\n}\n\n.product-card {\n  border: 1px solid #eee;\n  border-radius: 8px;\n  overflow: hidden;\n  transition: transform 0.2s, box-shadow 0.2s;\n  display: flex;\n  flex-direction: column;\n}\n\n.product-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.product-image {\n  width: 100%;\n  height: 200px;\n  object-fit: cover;\n}\n\n.product-details {\n  padding: 1rem;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.product-name {\n  font-size: 1.1rem;\n  margin-bottom: 0.5rem;\n}\n\n.product-price {\n  font-weight: bold;\n  color: #4a90e2;\n  margin-bottom: 0.5rem;\n}\n\n.product-description {\n  color: #666;\n  font-size: 0.9rem;\n  margin-bottom: 1rem;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  flex: 1;\n}\n\n.product-link {\n  display: inline-block;\n  text-decoration: none;\n  color: white;\n  background-color: #4a90e2;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  font-size: 0.9rem;\n  align-self: flex-start;\n  transition: background-color 0.2s;\n}\n\n.product-link:hover {\n  background-color: #3a7bd5;\n}\n\n/* Loading indicator */\n.loading {\n  text-align: center;\n  padding: 2rem 0;\n  color: #555;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.loading::after {\n  content: "â³";\n  font-size: 2rem;\n  animation: pulse 1.5s infinite;\n  display: inline-block;\n  margin-top: 1rem;\n}\n\n@keyframes pulse {\n  0% { opacity: 0.5; transform: scale(0.95); }\n  50% { opacity: 1; transform: scale(1.05); }\n  100% { opacity: 0.5; transform: scale(0.95); }\n}\n\n/* No results message */\n.no-results {\n  text-align: center;\n  padding: 2rem 0;\n  color: #888;\n}\n\n.no-results p {\n  margin-bottom: 0.5rem;\n}\n\n.no-results p:first-child {\n  font-size: 1.2rem;\n  color: #555;\n}\n\n/* Footer */\nfooter {\n  text-align: center;\n  padding: 1.5rem;\n  background-color: #333;\n  color: white;\n  font-size: 0.9rem;\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .search-container {\n    flex-direction: column;\n  }\n\n  button {\n    width: 100%;\n  }\n\n  .product-grid {\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n  }\n}\n\n@media (max-width: 480px) {\n  header h1 {\n    font-size: 2rem;\n  }\n\n  .search-section, .results-section {\n    padding: 1.5rem;\n  }\n\n  .product-grid {\n    grid-template-columns: 1fr;\n  }\n}\n',""]);const s=a},310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkAction=t.persistenceAction=t.unsupportedOperationAction=t.unexpectedAction=t.invalidAction=t.invalidActionType=t.invalidPayload=t.Message=t.fromAction=t.Action=t.permissionAction=t.isErrorEventName=t.throwError=t.invalidOriginAction=t.AppBridgeError=t.AppActionType=void 0;var r=n(572);Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(t,"fromAction",{enumerable:!0,get:function(){return r.fromAction}});var o,i=n(923),a=n(558),s=n(572);function c(e,t,n){var r=t.payload;return i.actionWrapper({type:e,group:a.Group.Error,payload:{action:t,message:n,type:e,id:r&&r.id?r.id:void 0}})}Object.defineProperty(t,"AppActionType",{enumerable:!0,get:function(){return s.AppActionType}}),Object.defineProperty(t,"AppBridgeError",{enumerable:!0,get:function(){return s.AppBridgeError}}),Object.defineProperty(t,"invalidOriginAction",{enumerable:!0,get:function(){return s.invalidOriginAction}}),Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return s.throwError}}),Object.defineProperty(t,"isErrorEventName",{enumerable:!0,get:function(){return s.isErrorEventName}}),Object.defineProperty(t,"permissionAction",{enumerable:!0,get:function(){return s.permissionAction}}),(o=t.Message||(t.Message={})).MISSING_PAYLOAD="Missing payload",o.INVALID_PAYLOAD_ID="Id in payload is missing or invalid",t.invalidPayload=function(e,t){return c(r.Action.INVALID_PAYLOAD,e,t||"The action's payload is missing required properties or has invalid properties")},t.invalidActionType=function(e,t){return i.actionWrapper({group:a.Group.Error,payload:{action:e,message:t||"The action type is invalid or unsupported",type:r.Action.INVALID_ACTION_TYPE},type:r.Action.INVALID_ACTION_TYPE})},t.invalidAction=function(e,t){return i.actionWrapper({group:a.Group.Error,payload:{action:e,message:t||"The action's has missing/invalid values for `group`, `type` or `version`",type:r.Action.INVALID_ACTION},type:r.Action.INVALID_ACTION})},t.unexpectedAction=function(e,t){return i.actionWrapper({group:a.Group.Error,payload:{action:e,message:t||"Action cannot be called at this time",type:r.Action.UNEXPECTED_ACTION},type:r.Action.UNEXPECTED_ACTION})},t.unsupportedOperationAction=function(e,t){return c(r.Action.UNSUPPORTED_OPERATION,e,t||"The action type is unsupported")},t.persistenceAction=function(e,t){return c(r.Action.PERSISTENCE,e,t||"Action cannot be persisted on server")},t.networkAction=function(e,t){return c(r.Action.NETWORK,e,t||"Network error")}},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},336:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentType=t.Group=void 0,(r=t.Group||(t.Group={})).AuthCode="AuthCode",r.Button="Button",r.ButtonGroup="ButtonGroup",r.Cart="Cart",r.Client="Client",r.ContextualSaveBar="ContextualSaveBar",r.Error="Error",r.Features="Features",r.FeedbackModal="FeedbackModal",r.Fullscreen="Fullscreen",r.LeaveConfirmation="LeaveConfirmation",r.Link="Link",r.Loading="Loading",r.Menu="Menu",r.Modal="Modal",r.Navigation="Navigation",r.Performance="Performance",r.Pos="Pos",r.Print="Print",r.ResourcePicker="Resource_Picker",r.unstable_Picker="unstable_Picker",r.Scanner="Scanner",r.SessionToken="SessionToken",r.Share="Share",r.TitleBar="TitleBar",r.Toast="Toast",r.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",r.WebVitals="WebVitals",(n=t.ComponentType||(t.ComponentType={})).Button="Button",n.ButtonGroup="ButtonGroup"},345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isShopifyPing=t.isShopifyPOS=t.isShopifyMobile=t.isShopifyEmbedded=t.isMobile=void 0;var r=n(559);function o(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Shopify Mobile")>=0}function i(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Shopify POS")>=0}function a(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Shopify Ping")>=0}t.isMobile=function(){return o()||i()||a()},t.isShopifyEmbedded=function(){return r.isClient&&window.top!==window.self||r.isUnframed},t.isShopifyMobile=o,t.isShopifyPOS=i,t.isShopifyPing=a},355:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(684);o(n(66),t),o(n(684),t),t.default=i.createClientApp},371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(454),o=function(){function e(){this.map={}}return e.prototype.set=function(e,t){Object.prototype.hasOwnProperty.call(this.map,e)||(this.map[e]=[]);var n={handler:t,remove:function(){}},o=r.addAndRemoveFromCollection(this.map[e],n);return n={handler:t,remove:o},o},e.prototype.get=function(e){var t=this.map[e];return t?t.map((function(e){return e.handler})):void 0},e.prototype.run=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=0,a=this.get(e)||[];return function e(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=a[i++];return s?s(e).apply(n,r):t.apply(n,r)}.apply(n,r)},e}();t.default=o},454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeFromCollection=t.addAndRemoveFromCollection=void 0;var r=n(984);Object.defineProperty(t,"addAndRemoveFromCollection",{enumerable:!0,get:function(){return r.addAndRemoveFromCollection}}),Object.defineProperty(t,"removeFromCollection",{enumerable:!0,get:function(){return r.removeFromCollection}})},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentType=t.Group=void 0;var r=n(336);Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return r.Group}}),Object.defineProperty(t,"ComponentType",{enumerable:!0,get:function(){return r.ComponentType}})},559:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDevelopmentClient=t.isProduction=t.isDevelopment=t.isUnframed=t.isServer=t.isClient=void 0;var r=n(801),o=n(801);Object.defineProperty(t,"isClient",{enumerable:!0,get:function(){return o.isClient}}),Object.defineProperty(t,"isServer",{enumerable:!0,get:function(){return o.isServer}}),Object.defineProperty(t,"isUnframed",{enumerable:!0,get:function(){return o.isUnframed}}),t.isDevelopment="undefined"!=typeof process&&process.env&&!1,t.isProduction=!t.isDevelopment,t.isDevelopmentClient=t.isDevelopment&&r.isClient},572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.permissionAction=t.isErrorEventName=t.throwError=t.invalidOriginAction=t.fromAction=t.AppBridgeError=t.AppActionType=t.Action=void 0;var r,o,i=n(336),a=n(129);!function(e){e.INVALID_ACTION="APP::ERROR::INVALID_ACTION",e.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",e.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",e.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",e.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",e.PERSISTENCE="APP::ERROR::PERSISTENCE",e.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",e.NETWORK="APP::ERROR::NETWORK",e.PERMISSION="APP::ERROR::PERMISSION",e.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",e.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"}(r=t.Action||(t.Action={})),(o=t.AppActionType||(t.AppActionType={})).INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",o.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",o.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",o.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",o.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",o.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",o.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",o.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",o.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK";var s=function(e){this.name="AppBridgeError",this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack};function c(e,t,n){var r=new s(e?t+": "+e:t);return r.action=n,r.type=t,r}t.AppBridgeError=s,s.prototype=Object.create(Error.prototype),t.fromAction=c,t.invalidOriginAction=function(e){return a.actionWrapper({group:i.Group.Error,payload:{message:e,type:r.INVALID_ORIGIN},type:r.INVALID_ORIGIN})},t.throwError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,o=e[0];throw"string"==typeof e[1]?n=e[1]:(r=e[1],n=e[2]||""),c(n,o,r)},t.isErrorEventName=function(e){return"string"==typeof a.findMatchInEnum(r,e)},t.permissionAction=function(e,t){return function(e,t,n){var r=t.payload;return a.actionWrapper({type:e,group:i.Group.Error,payload:{action:t,message:n,type:e,id:r&&r.id?r.id:void 0}})}(r.PERMISSION,e,t||"Action is not permitted")}},601:e=>{"use strict";e.exports=function(e){return e[1]}},613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){if(null==n)return n;if(void 0===t||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(t),n)||"Object"!==n.constructor.name&&"Array"!==n.constructor.name)return n;var r={};return Object.keys(n).forEach((function(o){Object.prototype.hasOwnProperty.call(t,o)?"object"!=typeof t[o]||Array.isArray(t[o])?r[o]=n[o]:r[o]=e(t[o],n[o]):r[o]=n[o]})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(n,e)||(r[e]=t[e])})),Object.setPrototypeOf(r,Object.getPrototypeOf(t)),r}},617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTransportListener=t.fromWindow=t.fromFrame=t.Context=void 0;var r,o=n(572),i=n(23),a=n(952),s=n(984),c=n(801);(r=t.Context||(t.Context={})).Modal="Modal",r.Main="Main",t.fromFrame=function(e,t,n){var r=[],a=e.host,u=e.window;if(!a)throw o.fromAction("App frame is undefined",o.AppActionType.WINDOW_UNDEFINED);return c.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(e,t){null==u||u.postMessage(e,t),function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&"dispatch"===e.type&&"object"==typeof e.payload}(e)&&a.postMessage(JSON.stringify(e.payload),location.origin)},updateIframeUrl:function(n){var r=window.location,o=(e.window||{}).location;try{new URL(n).origin===t&&o?o.replace(n):r.href=n}catch(e){}}}),a.addEventListener("message",(function(e){if(e.source!==a&&i.isAppMessage(e))if(e.origin===t)if(c.isUnframed&&window.MobileWebView)l=JSON.stringify({id:"unframed://fromClient",origin:t,data:e.data}),window.MobileWebView.postMessage(l);else for(var n=0,s=r;n<s.length;n++)(0,s[n])(e);else{var l,d="Message origin '"+e.origin+"' does not match app origin '"+t+"'.",p={type:"dispatch",payload:l=o.invalidOriginAction(d)};null==u||u.postMessage(p,e.origin)}})),{context:n,localOrigin:t,frameWindow:u,hostFrame:a,dispatch:function(e){null==u||u.postMessage(e,t)},subscribe:function(e){return s.addAndRemoveFromCollection(r,e)}}},t.fromWindow=function(e,t){var n=[];return void 0!==typeof window&&window.addEventListener("message",(function(t){if((window!==e||c.isUnframed)&&t.source===e&&(i.isAppBridgeAction(t.data.payload)||i.isAppMessage(t)))for(var r=0,o=n;r<o.length;r++)(0,o[r])(t)})),{localOrigin:t,hostFrame:e,dispatch:function(n){var r;if(null===(r=n.source)||void 0===r?void 0:r.host)if(c.isUnframed&&window&&window.MobileWebView){var o=JSON.stringify({id:"unframed://fromClient",origin:t,data:n});window.MobileWebView.postMessage(o)}else{var i=new URL("https://"+n.source.host).origin;e.postMessage(n,i)}},subscribe:function(e){return s.addAndRemoveFromCollection(n,e)}}},t.createTransportListener=function(){var e=[],t={};return{createSubscribeHandler:function(n){return function(){if(arguments.length<2)return s.addAndRemoveFromCollection(e,{callback:arguments[0]});var r=Array.from(arguments),o=r[0],i=r[1],c=r[2],u={callback:i,id:c},l={type:o,id:c};return Object.prototype.hasOwnProperty.call(t,o)||(t[o]=[]),n&&n(a.MessageType.Subscribe,l),s.addAndRemoveFromCollection(t[o],u,(function(){n&&n(a.MessageType.Unsubscribe,l)}))}},handleMessage:function(t){e.forEach((function(e){return e.callback(t)}))},handleActionDispatch:function(e){var n=e.type,r=e.payload,o=!1;if(Object.prototype.hasOwnProperty.call(t,n))for(var i=0,a=t[n];i<a.length;i++){var s=a[i],c=s.id,u=s.callback;(!r||r.id!==c)&&c||(u(r),o=!0)}return o}}}},621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.app=t.Action=void 0;var r,o=n(129),i=n(336);!function(e){e.APP="APP::PRINT::APP"}(r=t.Action||(t.Action={})),t.app=function(){return o.actionWrapper({group:i.Group.Print,type:r.APP})}},627:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0,(n=t.Action||(t.Action={})).LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",n.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",n.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",n.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",n.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",n.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},684:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createApp=t.createAppWrapper=t.createClientApp=t.WINDOW_UNDEFINED_MESSAGE=void 0;var a=n(923),s=n(919),c=n(310),u=n(19),l=n(199),d=n(559),p=n(687),f=n(29),h=n(76),g=n(239),m=n(66),v=i(n(371));t.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";var y=function(e){return function(t){return e(r(r({},t),{version:a.getVersion(),clientInterface:{name:a.getPackageName(),version:a.getVersion()}}))}},b=function(e){e.set(m.LifecycleHook.DispatchAction,y)};function A(e,n,r){if(void 0===r&&(r=[]),!e)throw c.fromAction(t.WINDOW_UNDEFINED_MESSAGE,c.AppActionType.WINDOW_UNDEFINED);var i=g.getLocation(),a=n||i&&i.origin;if(!a)throw c.fromAction("local origin cannot be blank",c.AppActionType.MISSING_LOCAL_ORIGIN);var s=u.fromWindow(e,a);return t.createClientApp(s,o([b],r))}function w(e){var t=g.getWindow();return t&&t.top?A(t.top)(e):l.serverAppBridge}t.createClientApp=function(e,t){void 0===t&&(t=[]);var n=[],i=u.createTransportListener();return e.subscribe((function(e){var t=e.data,r=t.type,o=t.payload;switch(r){case"getState":n.splice(0).forEach((function(e){return e(o)}));break;case"dispatch":if(i.handleMessage(o),i.handleActionDispatch(o))return;var s=a.findMatchInEnum(c.Action,o.type);s&&c.throwError(s,o)}})),function(u){var y=function(e){var t;if(!e.host)throw c.fromAction("host must be provided",c.AppActionType.INVALID_CONFIG);if(!e.apiKey)throw c.fromAction("apiKey must be provided",c.AppActionType.INVALID_CONFIG);try{var n=atob(null===(t=e.host)||void 0===t?void 0:t.replace(/_/g,"/").replace(/-/g,"+"));return r(r({},e),{host:n})}catch(e){throw c.fromAction("not a valid host, please use the value provided by Shopify",c.AppActionType.INVALID_CONFIG)}}(u),b=function(e,t){var n=t.apiKey,r=t.host,o=t.forceRedirect,i=void 0===o?!d.isDevelopmentClient:o,a=g.getLocation();if(d.isUnframed||!a||!n||!r||!i||!g.shouldRedirect(e))return!1;var s="https://"+r+"/apps/"+n+a.pathname+(a.search||"");return g.redirect(s),!0}(e.hostFrame,y);if(b)return l.mockAppBridge;var A=function(e,t){return function(n,r){e.dispatch({payload:r,source:t,type:n})}}(e,y),w=i.createSubscribeHandler(A);function E(e){return A(m.MessageType.Dispatch,e),e}A(m.MessageType.Unsubscribe);for(var P=new URL("https://"+y.host).origin,O=new v.default,I={hostOrigin:P,localOrigin:e.localOrigin,hooks:O,dispatch:function(e){return I.hooks?I.hooks.run(m.LifecycleHook.DispatchAction,E,I,e):E(e)},featuresAvailable:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=Array.isArray(n)?o([],n):e;return I.getState("features").then((function(e){return r.length?r.reduce((function(t,n){return Object.keys(e).includes(n)&&(t[n]=e[n]),t}),{}):e}))},getState:function(e){return e&&"string"!=typeof e?Promise.resolve(void 0):new Promise((function(e){n.push(e),A(m.MessageType.GetState)})).then((function(t){var n=t;if(e)for(var r=0,o=e.split(".");r<o.length;r++){var i=o[r];if(null==n||"object"!=typeof n||Array.isArray(n)||!Object.keys(n).includes(i))return;n=n[i]}return n}))},subscribe:w,error:function(e,t){var n=[];return a.forEachInEnum(c.Action,(function(r){n.push(w(r,e,t))})),function(){n.forEach((function(e){return e()}))}}},T=0,x=t;T<x.length;T++)(0,x[T])(O,I);return function(e){e.subscribe(s.Action.APP,h.handleAppPrint),e.dispatch(p.initialize());try{f.initializeWebVitals(e)}catch(e){console.error("App-Bridge failed to initialize web-vitals",e)}}(I),I}},t.createAppWrapper=A,t.createApp=w,t.default=w},687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.Action=void 0;var r=n(217);Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return r.Action}});var o=n(558),i=n(923);t.initialize=function(){return i.actionWrapper({group:o.Group.Client,type:r.Action.INITIALIZE})}},791:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* Chat Widget Styles */\n.chat-widget-container {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 350px;\n  height: 500px;\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  z-index: 1000;\n  transition: all 0.3s ease;\n}\n\n.chat-widget-container.minimized {\n  height: 50px;\n}\n\n.chat-widget-header {\n  background-color: #4a90e2;\n  color: white;\n  padding: 12px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.chat-widget-header h3 {\n  margin: 0;\n  font-size: 18px;\n}\n\n.toggle-button {\n  background: transparent;\n  border: none;\n  color: white;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 0 5px;\n  line-height: 1;\n}\n\n.chat-messages {\n  flex: 1;\n  overflow-y: auto;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.minimized .chat-messages {\n  display: none;\n}\n\n.message {\n  max-width: 80%;\n  padding: 10px 15px;\n  border-radius: 15px;\n  position: relative;\n  animation: fadeIn 0.3s ease;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(10px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n.user-message {\n  align-self: flex-end;\n  background-color: #4a90e2;\n  color: white;\n  border-bottom-right-radius: 5px;\n}\n\n.assistant-message {\n  align-self: flex-start;\n  background-color: #f1f1f1;\n  color: #333;\n  border-bottom-left-radius: 5px;\n}\n\n.message-content {\n  word-break: break-word;\n}\n\n.message-content p {\n  margin: 0;\n  line-height: 1.4;\n}\n\n.message-time {\n  font-size: 10px;\n  opacity: 0.8;\n  margin-top: 5px;\n  text-align: right;\n}\n\n.user-message .message-time {\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.chat-input-container {\n  display: flex;\n  padding: 10px;\n  border-top: 1px solid #eee;\n  background-color: #fff;\n}\n\n.minimized .chat-input-container {\n  display: none;\n}\n\n.chat-input-container input {\n  flex: 1;\n  border: 1px solid #ddd;\n  border-radius: 20px;\n  padding: 8px 15px;\n  font-size: 14px;\n  outline: none;\n}\n\n.chat-input-container button {\n  background-color: #4a90e2;\n  color: white;\n  border: none;\n  border-radius: 20px;\n  padding: 8px 15px;\n  margin-left: 10px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n}\n\n.chat-input-container button:hover {\n  background-color: #3a7bd5;\n}\n\n.chat-input-container button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n/* Loading indicator */\n.loading-indicator {\n  display: flex;\n  gap: 5px;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n}\n\n.loading-indicator span {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background-color: #4a90e2;\n  border-radius: 50%;\n  animation: bounce 1.4s infinite ease-in-out both;\n}\n\n.loading-indicator span:nth-child(1) {\n  animation-delay: -0.32s;\n}\n\n.loading-indicator span:nth-child(2) {\n  animation-delay: -0.16s;\n}\n\n@keyframes bounce {\n  0%, 80%, 100% {\n    transform: scale(0);\n  } 40% {\n    transform: scale(1.0);\n  }\n}\n\n/* Product cards in chat */\n.product-cards-container {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin: 10px 0;\n  width: 100%;\n}\n\n.product-card-chat {\n  border: 1px solid #eee;\n  border-radius: 8px;\n  overflow: hidden;\n  background-color: white;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.product-card-chat img {\n  width: 100%;\n  height: 120px;\n  object-fit: cover;\n}\n\n.product-card-details {\n  padding: 10px;\n}\n\n.product-card-title {\n  font-weight: bold;\n  margin-bottom: 5px;\n  font-size: 14px;\n}\n\n.product-card-price {\n  color: #4a90e2;\n  font-weight: bold;\n  margin-bottom: 5px;\n  font-size: 14px;\n}\n\n.product-card-description {\n  font-size: 12px;\n  color: #777;\n  margin-bottom: 10px;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.product-card-actions {\n  display: flex;\n  justify-content: space-between;\n}\n\n.product-card-button {\n  background-color: #4a90e2;\n  color: white;\n  border: none;\n  border-radius: 15px;\n  padding: 5px 10px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.product-card-button:hover {\n  background-color: #3a7bd5;\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .chat-widget-container {\n    width: 300px;\n    height: 450px;\n    bottom: 10px;\n    right: 10px;\n  }\n}\n\n@media (max-width: 480px) {\n  .chat-widget-container {\n    width: calc(100% - 20px);\n    height: 400px;\n  }\n}\n",""]);const s=a},795:()=>{var e=null,t=null,n=null,r=null,o=[{id:1,name:"Wireless Noise-Cancelling Headphones",price:249.99,description:"Premium wireless headphones with active noise cancellation, 30-hour battery life, and comfortable over-ear design.",image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&w=500",link:"#product-1"},{id:2,name:"Smart Fitness Watch",price:199.99,description:"Track your workouts, heart rate, sleep, and more with this advanced fitness tracker. Water-resistant and week-long battery life.",image:"https://images.unsplash.com/photo-1579586337278-3befd40fd17a?auto=format&w=500",link:"#product-2"},{id:3,name:"Organic Cotton T-Shirt",price:29.99,description:"Soft, comfortable t-shirt made from 100% organic cotton. Available in multiple colors and sizes.",image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&w=500",link:"#product-3"},{id:4,name:"Professional Blender",price:129.99,description:"High-performance blender with multiple speed settings. Perfect for smoothies, soups, and more.",image:"https://images.unsplash.com/photo-1570222094114-d054a817e56b?auto=format&w=500",link:"#product-4"},{id:5,name:"Leather Wallet",price:49.99,description:"Genuine leather wallet with multiple card slots and RFID blocking technology.",image:"https://images.unsplash.com/photo-1627123424574-724758594e93?auto=format&w=500",link:"#product-5"},{id:6,name:"Digital Camera",price:699.99,description:"24MP digital camera with 4K video recording capability and interchangeable lenses.",image:"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&w=500",link:"#product-6"}];function i(){try{if(console.log("app.js init called"),e=document.getElementById("search-form"),t=document.getElementById("search-input"),n=document.getElementById("results-container"),r=document.querySelectorAll(".search-suggestions span"),console.log("Elements found:",{searchForm:!!e,searchInput:!!t,resultsContainer:!!n,searchSuggestions:r?r.length:0}),!e||!t||!n)return void console.error("Required elements not found in app.js - skipping search form initialization");try{e.addEventListener("submit",a),console.log("Added submit listener to search form")}catch(e){console.error("Error adding submit listener to search form:",e)}if(r&&r.length>0)try{r.forEach((function(n){n.addEventListener("click",(function(){t.value=n.textContent,e.dispatchEvent(new Event("submit"))}))})),console.log("Added click listeners to search suggestions")}catch(e){console.error("Error adding click listeners to search suggestions:",e)}console.log("Search form initialization completed successfully")}catch(e){console.error("Error during app initialization:",e)}}function a(e){e.preventDefault();var r=t.value.trim().toLowerCase();if(!r)return void(n&&(n.innerHTML='<div class="initial-message">'.concat("Please enter a search term","</div>")));n&&(n.innerHTML='<div class="loading">Searching for products...</div>'),setTimeout((function(){var e=function(e){return o.filter((function(t){return t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)}))}(r);!function(e,t){if(n.innerHTML="",0!==e.length){var r=document.createElement("div");r.className="product-grid",e.forEach((function(e){var t=function(e){var t=document.createElement("div");return t.className="product-card",t.innerHTML='\n    <img src="'.concat(e.image,'" alt="').concat(e.name,'" class="product-image">\n    <div class="product-details">\n      <h3 class="product-name">').concat(e.name,'</h3>\n      <p class="product-price">$').concat(e.price.toFixed(2),'</p>\n      <p class="product-description">').concat(e.description,'</p>\n      <a href="').concat(e.link,'" class="product-link">View Product</a>\n    </div>\n  '),t}(e);r.appendChild(t)})),n.appendChild(r)}else!function(e){n&&(n.innerHTML='\n      <div class="no-results">\n        <p>No products found matching "'.concat(e,'"</p>\n        <p>Try different keywords or browse our featured products.</p>\n      </div>\n    '))}(t)}(e,r)}),800)}document.addEventListener("DOMContentLoaded",(function(){console.log("DOM content loaded, initializing app with small delay"),setTimeout(i,100)})),window.addEventListener("load",(function(){console.log("Window loaded, initializing app if not already initialized"),e||(console.log("SearchForm not initialized yet, running init again"),setTimeout(i,100))}))},796:function(e,t){!function(e){"use strict";var t,n,r,o,i,a=-1,s=function(e){addEventListener("pageshow",(function(t){t.persisted&&(a=t.timeStamp,e(t))}),!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},u=function(){var e=c();return e&&e.activationStart||0},l=function(e,t){var n=c(),r="navigate";return a>=0?r="back-forward-cache":n&&(document.prerendering||u()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},d=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},p=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},f=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},h=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},g=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},m=-1,v=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},y=function(e){"hidden"===document.visibilityState&&m>-1&&(m="visibilitychange"===e.type?e.timeStamp:0,A())},b=function(){addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0)},A=function(){removeEventListener("visibilitychange",y,!0),removeEventListener("prerenderingchange",y,!0)},w=function(){return m<0&&(m=v(),b(),s((function(){setTimeout((function(){m=v(),b()}),0)}))),{get firstHiddenTime(){return m}}},E=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},P=[1800,3e3],O=function(e,t){t=t||{},E((function(){var n,r=w(),o=l("FCP"),i=d("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-u(),0),o.entries.push(e),n(!0)))}))}));i&&(n=p(e,o,P,t.reportAllChanges),s((function(r){o=l("FCP"),n=p(e,o,P,t.reportAllChanges),f((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))},I=[.1,.25],T=function(e,t){t=t||{},O(g((function(){var n,r=l("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},c=d("layout-shift",a);c&&(n=p(e,r,I,t.reportAllChanges),h((function(){a(c.takeRecords()),n(!0)})),s((function(){o=0,r=l("CLS",0),n=p(e,r,I,t.reportAllChanges),f((function(){return n()}))})),setTimeout(n,0))})))},x={passive:!0,capture:!0},S=new Date,_=function(e,o){t||(t=o,n=e,r=new Date,L(removeEventListener),N())},N=function(){if(n>=0&&n<r-S){var e={entryType:"first-input",name:t.type,target:t.target,cancelable:t.cancelable,startTime:t.timeStamp,processingStart:t.timeStamp+n};o.forEach((function(t){t(e)})),o=[]}},C=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){_(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,x),removeEventListener("pointercancel",r,x)};addEventListener("pointerup",n,x),addEventListener("pointercancel",r,x)}(t,e):_(t,e)}},L=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,C,x)}))},M=[100,300],k=function(e,r){r=r||{},E((function(){var i,a=w(),c=l("FID"),u=function(e){e.startTime<a.firstHiddenTime&&(c.value=e.processingStart-e.startTime,c.entries.push(e),i(!0))},f=function(e){e.forEach(u)},m=d("first-input",f);i=p(e,c,M,r.reportAllChanges),m&&h(g((function(){f(m.takeRecords()),m.disconnect()}))),m&&s((function(){var a;c=l("FID"),i=p(e,c,M,r.reportAllChanges),o=[],n=-1,t=null,L(addEventListener),a=u,o.push(a),N()}))}))},R=0,j=1/0,D=0,F=function(e){e.forEach((function(e){e.interactionId&&(j=Math.min(j,e.interactionId),D=Math.max(D,e.interactionId),R=D?(D-j)/7+1:0)}))},B=function(){return i?R:performance.interactionCount||0},G=function(){"interactionCount"in performance||i||(i=d("event",F,{type:"event",buffered:!0,durationThreshold:0}))},W=[200,500],U=0,z=function(){return B()-U},V=[],H={},Y=function(e){var t=V[V.length-1],n=H[e.interactionId];if(n||V.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};H[r.id]=r,V.push(r)}V.sort((function(e,t){return t.latency-e.latency})),V.splice(10).forEach((function(e){delete H[e.id]}))}},J=function(e,t){t=t||{},E((function(){var n;G();var r,o=l("INP"),i=function(e){e.forEach((function(e){e.interactionId&&Y(e),"first-input"===e.entryType&&!V.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Y(e)}));var t,n=(t=Math.min(V.length-1,Math.floor(z()/50)),V[t]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,r())},a=d("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=p(e,o,W,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),h((function(){i(a.takeRecords()),o.value<0&&z()>0&&(o.value=0,o.entries=[]),r(!0)})),s((function(){V=[],U=B(),o=l("INP"),r=p(e,o,W,t.reportAllChanges)})))}))},K=[2500,4e3],X={},q=function(e,t){t=t||{},E((function(){var n,r=w(),o=l("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-u(),0),o.entries=[t],n())},a=d("largest-contentful-paint",i);if(a){n=p(e,o,K,t.reportAllChanges);var c=g((function(){X[o.id]||(i(a.takeRecords()),a.disconnect(),X[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(c,0)}),!0)})),h(c),s((function(r){o=l("LCP"),n=p(e,o,K,t.reportAllChanges),f((function(){o.value=performance.now()-r.timeStamp,X[o.id]=!0,n(!0)}))}))}}))},Z=[800,1800],$=function e(t){document.prerendering?E((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Q=function(e,t){t=t||{};var n=l("TTFB"),r=p(e,n,Z,t.reportAllChanges);$((function(){var o=c();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-u(),0),n.entries=[o],r(!0),s((function(){n=l("TTFB",0),(r=p(e,n,Z,t.reportAllChanges))(!0)}))}}))};e.CLSThresholds=I,e.FCPThresholds=P,e.FIDThresholds=M,e.INPThresholds=W,e.LCPThresholds=K,e.TTFBThresholds=Z,e.getCLS=T,e.getFCP=O,e.getFID=k,e.getINP=J,e.getLCP=q,e.getTTFB=Q,e.onCLS=T,e.onFCP=O,e.onFID=k,e.onINP=J,e.onLCP=q,e.onTTFB=Q}(t)},801:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.isUnframed=t.isClient=t.isServer=void 0,t.isServer="undefined"==typeof window,t.isClient=!t.isServer,t.isUnframed=t.isClient&&(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===r?void 0:r.indexOf("Unframed"))>0},824:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(355);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createApp}}),o(n(19),t),o(n(355),t)},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEPARATOR=t.PREFIX=void 0,t.PREFIX="APP",t.SEPARATOR="::"},919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.app=t.Action=void 0;var r=n(621);Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(t,"app",{enumerable:!0,get:function(){return r.app}})},923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPackageName=t.getVersion=t.getMergedProps=t.updateActionFromPayload=t.isValidOptionalString=t.isValidOptionalNumber=t.NonSnakeCaseGroup=t.getEventNameSpace=t.forEachInEnum=t.findMatchInEnum=t.actionWrapper=void 0;var r=n(129);Object.defineProperty(t,"actionWrapper",{enumerable:!0,get:function(){return r.actionWrapper}}),Object.defineProperty(t,"findMatchInEnum",{enumerable:!0,get:function(){return r.findMatchInEnum}}),Object.defineProperty(t,"forEachInEnum",{enumerable:!0,get:function(){return r.forEachInEnum}}),Object.defineProperty(t,"getEventNameSpace",{enumerable:!0,get:function(){return r.getEventNameSpace}}),Object.defineProperty(t,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return r.NonSnakeCaseGroup}}),Object.defineProperty(t,"isValidOptionalNumber",{enumerable:!0,get:function(){return r.isValidOptionalNumber}}),Object.defineProperty(t,"isValidOptionalString",{enumerable:!0,get:function(){return r.isValidOptionalString}}),Object.defineProperty(t,"updateActionFromPayload",{enumerable:!0,get:function(){return r.updateActionFromPayload}}),Object.defineProperty(t,"getMergedProps",{enumerable:!0,get:function(){return r.getMergedProps}});var o=n(24);t.getVersion=function(){return o.version},t.getPackageName=function(){return o.name}},952:(e,t)=>{"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.LifecycleHook=t.PermissionType=t.MessageType=void 0,(o=t.MessageType||(t.MessageType={})).GetState="getState",o.Dispatch="dispatch",o.Subscribe="subscribe",o.Unsubscribe="unsubscribe",(r=t.PermissionType||(t.PermissionType={})).Dispatch="Dispatch",r.Subscribe="Subscribe",(n=t.LifecycleHook||(t.LifecycleHook={})).UpdateAction="UpdateAction",n.DispatchAction="DispatchAction"},984:(e,t)=>{"use strict";function n(e,t,n){var r=e.findIndex((function(e){return e===t}));return r>=0&&(e.splice(r,1),n&&n(t),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeFromCollection=t.addAndRemoveFromCollection=void 0,t.addAndRemoveFromCollection=function(e,t,r){return e.push(t),function(){return n(e,t,r)}},t.removeFromCollection=n}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(72),t=n.n(e),r=n(825),o=n.n(r),i=n(659),a=n.n(i),s=n(56),c=n.n(s),u=n(540),l=n.n(u),d=n(113),p=n.n(d),f=n(249),h={};h.styleTagTransform=p(),h.setAttributes=c(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=l(),t()(f.A,h),f.A&&f.A.locals&&f.A.locals;var g=n(791),m={};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function A(){A=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",f="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function w(){}var E={};u(E,a,(function(){return this}));var P=Object.getPrototypeOf,O=P&&P(P(M([])));O&&O!==n&&r.call(O,a)&&(E=O);var I=w.prototype=y.prototype=Object.create(E);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==v(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?g:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},T(x.prototype),u(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(I),u(I,c,"Generator"),u(I,a,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function w(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,s,"next",e)}function s(e){w(i,r,o,a,s,"throw",e)}a(void 0)}))}}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}m.styleTagTransform=p(),m.setAttributes=c(),m.insert=a().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=l(),t()(g.A,m),g.A&&g.A.locals&&g.A.locals,n(795);var I=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=null,this.messagesContainer=null,this.inputField=null,this.sendButton=null,this.toggleButton=null,this.isMinimized=!1,this.isLoading=!1,this.conversationHistory=[],this.initialized=!1,console.log("ChatWidget constructed")},t=[{key:"init",value:(r=E(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.initialized){e.next=4;break}return console.log("ChatWidget already initialized, skipping"),e.abrupt("return");case 4:if(console.log("Starting ChatWidget.init()"),this.container=document.getElementById("ai-shopping-assistant"),console.log("Container found:",!!this.container),this.container||(console.log("Creating container as it does not exist"),this.container=this.createChatContainer(),document.body.appendChild(this.container),console.log("Container created and appended to body")),this.messagesContainer=document.getElementById("chat-messages"),this.inputField=document.getElementById("chat-input"),this.sendButton=document.getElementById("send-message"),this.toggleButton=document.getElementById("toggle-chat"),console.log("Elements found:","messagesContainer:",!!this.messagesContainer,"inputField:",!!this.inputField,"sendButton:",!!this.sendButton,"toggleButton:",!!this.toggleButton),this.messagesContainer&&this.inputField&&this.sendButton&&this.toggleButton||(console.log("Some elements not found by ID, trying to find within container"),this.messagesContainer||(this.messagesContainer=this.container.querySelector(".chat-messages")),this.inputField||(this.inputField=this.container.querySelector('input[type="text"]')),this.sendButton||(this.sendButton=this.container.querySelector("button:not(.toggle-button)")),this.toggleButton||(this.toggleButton=this.container.querySelector(".toggle-button")),console.log("Elements after container search:","messagesContainer:",!!this.messagesContainer,"inputField:",!!this.inputField,"sendButton:",!!this.sendButton,"toggleButton:",!!this.toggleButton)),this.messagesContainer&&this.inputField&&this.sendButton&&this.toggleButton){e.next=17;break}return console.error("ChatWidget initialization failed - critical elements not found"),e.abrupt("return");case 17:this.setupEventListeners(),this.messagesContainer?this.addWelcomeMessageDirect():console.error("Cannot add welcome message - messagesContainer not found"),this.initialized=!0,console.log("ChatWidget initialization completed"),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.error("Error in ChatWidget.init():",e.t0);case 26:case"end":return e.stop()}}),e,this,[[0,23]])}))),function(){return r.apply(this,arguments)})},{key:"createChatContainer",value:function(){var e=document.createElement("div");return e.id="ai-shopping-assistant",e.className="chat-widget-container",e.innerHTML='\n      <div class="chat-widget-header">\n        <h3>Shopping Assistant</h3>\n        <button id="toggle-chat" class="toggle-button">-</button>\n      </div>\n      <div class="chat-messages" id="chat-messages">\n        \x3c!-- Messages will be displayed here --\x3e\n      </div>\n      <div class="chat-input-container">\n        <input type="text" id="chat-input" placeholder="Ask about products...">\n        <button id="send-message">Send</button>\n      </div>\n    ',e}},{key:"setupEventListeners",value:function(){var e=this;try{if(!this.sendButton||!this.inputField||!this.toggleButton)return void console.error("Cannot set up event listeners - UI elements not found:",{sendButton:!this.sendButton,inputField:!this.inputField,toggleButton:!this.toggleButton});try{this.sendButton.addEventListener("click",(function(){e.handleSendMessage()})),console.log("Added click listener to send button")}catch(e){console.error("Error adding click listener to send button:",e)}try{this.inputField.addEventListener("keypress",(function(t){"Enter"===t.key&&(t.preventDefault(),e.handleSendMessage())})),console.log("Added keypress listener to input field")}catch(e){console.error("Error adding keypress listener to input field:",e)}try{this.toggleButton.addEventListener("click",(function(){e.toggleChat()})),console.log("Added click listener to toggle button")}catch(e){console.error("Error adding click listener to toggle button:",e)}console.log("Event listeners successfully set up")}catch(e){console.error("Error in setupEventListeners:",e)}}},{key:"addWelcomeMessageDirect",value:function(){if(console.log("Adding welcome message directly"),this.messagesContainer){var e=new Date,t=e.getDate().toString().padStart(2,"0"),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],r=e.getFullYear(),o=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0"),a="".concat(t," ").concat(n," ").concat(r,", ").concat(o,":").concat(i),s=document.createElement("div");s.className="message assistant-message",s.innerHTML='\n      <div class="message-content">\n        <p>Hello! I\'m your shopping assistant. How can I help you today?</p>\n      </div>\n      <div class="message-time">'.concat(a,"</div>\n    "),this.messagesContainer.appendChild(s),console.log("Welcome message element added to container"),this.conversationHistory.push({role:"assistant",content:"Hello! I'm your shopping assistant. How can I help you today?"})}else console.error("messagesContainer is null - cannot add welcome message")}},{key:"handleSendMessage",value:(n=E(A().mark((function e(){var t,n,r,o,i,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.inputField.value.trim())&&!this.isLoading){e.next=3;break}return e.abrupt("return");case 3:return this.inputField.value="",console.log("Handling send message:",t),this.addUserMessageDirect(t),this.conversationHistory.push({role:"user",content:t}),this.setLoading(!0),e.prev=8,n={model:"claude-3-7-sonnet-20250219",max_tokens:1024,messages:y(this.conversationHistory)},console.log("Sending request to Claude API with body:",JSON.stringify(n)),e.next=13,fetch("/api/claude",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 13:return r=e.sent,console.log("Claude API response status:",r.status),e.next=17,r.text();case 17:o=e.sent,console.log("Claude API raw response:",o),e.prev=19,i=JSON.parse(o),e.next=27;break;case 23:throw e.prev=23,e.t0=e.catch(19),console.error("Failed to parse JSON response:",e.t0),new Error("Invalid JSON response from server");case 27:if(r.ok){e.next=30;break}throw console.error("Error response from API:",i),new Error("API responded with status ".concat(r.status,": ").concat(JSON.stringify(i)));case 30:if(console.log("Parsed Claude API response:",i),i.content&&i.content[0]&&i.content[0].text){e.next=34;break}throw console.error("Unexpected response format:",i),new Error("Invalid response format from API");case 34:a=i.content[0].text,console.log("Assistant response:",a),this.conversationHistory.push({role:"assistant",content:a}),this.addAssistantMessageDirect(a),e.next=44;break;case 40:e.prev=40,e.t1=e.catch(8),console.error("Error processing message:",e.t1),this.addAssistantMessageDirect("Sorry, I encountered an error. Please try again later. Technical details: "+e.t1.message);case 44:return e.prev=44,this.setLoading(!1),e.finish(44);case 47:case"end":return e.stop()}}),e,this,[[8,40,44,47],[19,23]])}))),function(){return n.apply(this,arguments)})},{key:"addUserMessageDirect",value:function(e){console.log("Adding user message directly:",e);var t=new Date,n=t.getDate().toString().padStart(2,"0"),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=t.getFullYear(),i=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),s="".concat(n," ").concat(r," ").concat(o,", ").concat(i,":").concat(a),c=document.createElement("div");c.className="message user-message";var u=this.escapeHtml(e);c.innerHTML='\n      <div class="message-content">\n        <p>'.concat(u,'</p>\n      </div>\n      <div class="message-time">').concat(s,"</div>\n    "),this.messagesContainer.appendChild(c),this.scrollToBottom()}},{key:"addAssistantMessageDirect",value:function(e){console.log("Adding assistant message directly:",e);var t=new Date,n=t.getDate().toString().padStart(2,"0"),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=t.getFullYear(),i=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),s="".concat(n," ").concat(r," ").concat(o,", ").concat(i,":").concat(a),c=document.createElement("div");c.className="message assistant-message";var u=this.formatMessageText(e);c.innerHTML='\n      <div class="message-content">\n        <p>'.concat(u,'</p>\n      </div>\n      <div class="message-time">').concat(s,"</div>\n    "),this.messagesContainer.appendChild(c),this.scrollToBottom()}},{key:"setLoading",value:function(e){if(this.isLoading=e,e){var t=document.createElement("div");t.className="message assistant-message loading",t.innerHTML='<div class="loading-indicator"><span></span><span></span><span></span></div>',t.id="loading-message",this.messagesContainer.appendChild(t),this.scrollToBottom()}else{var n=document.getElementById("loading-message");n&&n.remove()}}},{key:"scrollToBottom",value:function(){this.messagesContainer.scrollTop=this.messagesContainer.scrollHeight}},{key:"formatMessageText",value:function(e){if(!e)return"";var t=this.escapeHtml(e);return(t=t.replace(/\[(.*?)\]\((https?:\/\/.*?)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>')).replace(/\n/g,"<br>")}},{key:"escapeHtml",value:function(e){if(!e)return"";var t=document.createElement("div");return t.textContent=e,t.innerHTML}},{key:"toggleChat",value:function(){this.isMinimized=!this.isMinimized,this.isMinimized?(this.container.classList.add("minimized"),this.toggleButton.textContent="+"):(this.container.classList.remove("minimized"),this.toggleButton.textContent="-")}}],t&&P(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}(),T=n(824);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(){S=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",f="suspendedYield",h="executing",g="completed",m={};function v(){}function y(){}function b(){}var A={};u(A,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(M([])));E&&E!==n&&r.call(E,a)&&(A=E);var P=b.prototype=v.prototype=Object.create(A);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==x(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?g:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(x(t)+" is not iterable")}return y.prototype=b,o(P,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},O(I.prototype),u(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new I(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(P),u(P,c,"Generator"),u(P,a,(function(){return this})),u(P,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function _(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var N=function(){var e,t=(e=S().mark((function e(){var t,n,r,o,i,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.CLAUDE_API_KEY||("undefined"!=typeof process&&process.env?process.env.CLAUDE_API_KEY:"")||""){e.next=4;break}return console.error("Missing Claude API key for test"),e.abrupt("return",{error:"Claude API key is missing"});case 4:return e.prev=4,console.log("Testing Claude API connection..."),console.log("API Key starts with:",t.substring(0,4)+"..."),n="/api/claude",console.log("Using API endpoint:",n),e.next=11,fetch(n,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t},body:JSON.stringify({model:"claude-3-7-sonnet-20250219",max_tokens:100,messages:[{role:"user",content:"Hello, are you working?"}]})});case 11:if(r=e.sent,console.log("Claude API test response status:",r.status),r.ok){e.next=19;break}return e.next=16,r.json().catch((function(e){return{error:"Failed to parse error response"}}));case 16:return i=e.sent,console.error("Claude API test error details:",i),e.abrupt("return",{error:(null===(o=i.error)||void 0===o?void 0:o.message)||"API returned status ".concat(r.status)});case 19:return e.next=21,r.json();case 21:return a=e.sent,e.abrupt("return",{success:!0,message:a.content[0].text});case 25:return e.prev=25,e.t0=e.catch(4),console.error("Error in Claude API test:",e.t0),e.abrupt("return",{error:e.t0.message||"Unknown error occurred"});case 29:case"end":return e.stop()}}),e,null,[[4,25]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,s,"next",e)}function s(e){_(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();console.log("index.js loaded");var C=function(){console.log("AI Shopping application initialization started");try{var e=document.getElementById("shopify-app-bridge"),t=!e;if(console.log("Running in",t?"standalone mode":"integrated mode"),!t&&e)try{!function(){try{if(!(window.top!==window.self&&window.location.ancestorOrigins&&window.location.ancestorOrigins[0]&&window.location.ancestorOrigins[0].includes("myshopify.com")))return console.log("Not in Shopify admin, skipping App Bridge initialization"),null;var e=process.env.SHOPIFY_API_KEY||"";if(!e)return console.error("Missing Shopify API key"),null;var t={apiKey:e,host:new URL(window.location.href).searchParams.get("shop")||(window.location.ancestorOrigins&&window.location.ancestorOrigins[0]?new URL(window.location.ancestorOrigins[0]).hostname:""),forceRedirect:!1},n=(0,T.createApp)(t);return console.log("App Bridge initialized successfully"),n}catch(e){return console.error("Failed to initialize App Bridge:",e),null}}(),console.log("App Bridge initialized")}catch(e){console.error("Failed to initialize App Bridge:",e)}if(document.getElementById("ai-shopping-assistant")){console.log("Initializing chat widget");try{var n=function(){if(console.log("Initializing chat widget..."),"loading"===document.readyState)return console.log("Document still loading, deferring chat widget initialization"),null;var e=new I;return setTimeout((function(){e.init()}),100),console.log("Chat widget initialized"),e}();window.aiShopAssistant=n,console.log("Chat widget initialized and exposed as window.aiShopAssistant")}catch(e){console.error("Failed to initialize chat widget:",e)}}else console.log("Chat widget container not found in the DOM");window.testClaudeConnection=N,console.log("AI Shopping application initialization completed")}catch(e){console.error("Error during application initialization:",e)}};"complete"===document.readyState||"interactive"===document.readyState?(console.log("Document is already ready, adding a small delay before initialization"),setTimeout(C,100)):(document.addEventListener("DOMContentLoaded",(function(){console.log("DOMContentLoaded fired, adding a small delay before initialization"),setTimeout(C,100)})),window.addEventListener("load",(function(){console.log("Window load event fired, checking if initialization has occurred"),window.aiShopAssistant||(console.log("Application not yet initialized, running init"),setTimeout(C,100))})))})()})();